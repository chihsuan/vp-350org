!function(t){var a=["China","Taiwan","Japan","Vietnam","North Korea","South Korea","Philippines","Thailand","Malaysia","Indonesia","Cambodia","Laos","Myanmar","Singapore","Brunei","East Timor","Mongolia"],e=$(t).width(),n=$(t).height(),r=d3.select("#east-asia-map").append("svg").attr("width",e).attr("height",n);d3.json("data/countries.geo.topo.json",function(t,o){if(t)return console.error(t);var i=[122,23],s=d3.geo.mercator().scale(500).center(i).translate([e/2,n/2]),p=d3.geo.path().projection(s);r.append("g").attr("class","countries").selectAll("path").data(topojson.feature(o,o.objects["countries.geo"]).features).enter().append("path").attr("d",p).style("display",function(t){return a.indexOf(t.properties.name)>-1?"block":"none"}).attr("fill",function(t){if("Vietnam"===t.properties.name)return"red"}),r.append("path").attr("class","country-borders").attr("d",p(topojson.mesh(o,o.objects["countries.geo"],function(t,e){return a.indexOf(t.properties.name)>-1&&t!==e}))),r.append("text").text("East Asia").attr("class","map-title").attr("y",n/2).attr("x",e/3*2)})}(window);